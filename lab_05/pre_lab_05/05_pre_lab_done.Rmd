---
title: "05_pre_lab"
author: "Cassie Peo"
date: "2024-02-20"
output: html_document
---

**Question #1:**

1)  Calculate the difference in median income from 2010 to 2020 for all places listed. Calculate the percentage change.

```{r}
 city_md_income<- read_csv("city_md_income.csv") %>% 
  as.data.frame()
```

```{r}
city_md_income <- city_md_income %>%
  mutate(difference =(median_inc_2020-median_inc_2010)) %>%
  mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2))


write.csv(city_md_income,"city_md_income2.csv")
```

Which city had the highest absolute change? Which had the highest percentage change?

```{r}
city_md_income %>%
  mutate(difference =(median_inc_2020-median_inc_2010)) %>%
  mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2)) %>%
slice_max(difference, n = 1)
```

```{r}
city_md_income %>%
  mutate(difference =(median_inc_2020-median_inc_2010)) %>%
  mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2)) %>%
slice_max(pct_change, n = 1)

# Beaver Creek CDP had the highest absolute change with a difference of 118,292. Shaft CDP had the highest percent change with 399.88%. 
```

Produce a table with the top 25 places ranked by the highest percentage change.

```{r}

top25_pct_change <- city_md_income %>%
  slice_max(pct_change, n = 25)
 
```

Produce a second table with the top 25 places ranked by the lowest or negative percentage change.

```{r}

top25_lowest_pct_change <- city_md_income %>%
  slice_min(pct_change, n = 25)

```

**Question #2: **
A) Determine the summary statistics of mdcities median income for 2020. Determine the value for the first quartile.

B) Use mutate and case_when to create a column called "category." Within this, label cities in the first quartile as "lowest" and the remaining "above". Create a new table called "lowest" with your results

```{r}

summary(city_md_income$median_inc_2020)

lowest <- city_md_income %>%
 mutate(
   category = case_when(
     median_inc_2020 > 63327 ~ "above",
     median_inc_2020 < 63327 ~ "below",
   )
 )

```
```{r}

 lowest %>% 
  select(place, median_inc_2020, category)

```



**Question #3: **
Answer this question in English: Write in Elms

Building on the previous lesson on filtering, describe how you would determine the median value of the percentage change and produce a table with the 10 neighborhoods with the highest change and the 10 with the lowest change.

 First, if the table does not already have a percent change column, add a percent change column using the percent change formula and the mutate function.
 Next, to determine the median value of the percent changes, use the median function on the percent change column.
 Then, to produce a table with the 10 neighborhoods with the highest percent changes, use the slice_max function on the percent change column with n=10.
 Similarly, to produce a table with the 10 neighborhoods with the lowest percent changes, use the slice_min function on the percent change column with n=10.
 
 