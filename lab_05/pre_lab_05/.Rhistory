quarto::quarto_render(input = "r-load-analyze-visualize.qmd", output_file = "r-load-analyze-visualize.html")
setwd("~/Code/data_journalism_class/03_tutorials/qmd_files")
#loading 2020 and 2010 Baltimore City population by race
baltcity_race <- read_csv("assets/data/baltcity_race_8_13.csv") %>%
as.data.frame()
library(tidyverse)
#loading 2020 and 2010 Baltimore City population by race
baltcity_race <- read_csv("assets/data/baltcity_race_8_13.csv") %>%
as.data.frame()
library(tidyverse)
quarto::quarto_render()
library(tidyverse)
baltcity_income <- read_csv("assets/data/baltcity_income_clean.csv") %>%
as.data.frame()
#working on this with your laptop, uncomment and use this code below
#baltcity_income<- read_csv("baltcity_income_clean.csv") %>%
#  as.data.frame()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2)) %>%
head()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2)) %>%
arrange(desc(Diff_Pct_2020)) %>%
head()
#ppp_applications_md_small <- read_csv("assets/data/ppp_applications_md.csv") %>%
#  select(name, amount, city, servicing_lender_state)
#write_csv(ppp_applications_md_small,"assets/data/ppp_applications_md_small.csv")
maryland_ppp <- read_csv("assets/data/ppp_applications_md_small.csv")
#working on this with your laptop, uncomment and use this code below
#maryland_ppp <- read.csv("ppp_applications_md.csv")
View(maryland_ppp)
head(maryland_ppp)
maryland_with_in_out <- maryland_ppp %>%
mutate(
in_out = case_when(
servicing_lender_state == 'NA' ~ "NA",
servicing_lender_state == 'MD' ~ "IN",
servicing_lender_state != 'MD' ~ "OUT"
)
maryland_with_in_out %>%
select(name, amount, servicing_lender_state, in_out) %>%
head()
maryland_with_in_out <- maryland_ppp %>%
mutate(
in_out = if_else(
servicing_lender_state == 'MD', "IN", "OUT"
)
maryland_with_in_out %>%
select(name, amount, servicing_lender_state, in_out) %>%
head()
knitr::opts_chunk$set(echo = TRUE)
# Write code to load the Maryland race by city, place for 2010 - 2020 and call it md_race.
# The data is called lab_04.csv, and is in the same folder as lab_04.qmd (this data notebook)
#KEY
md_race <- read_csv("~/Code/data_journalism_interactive_textbook/04_labs/lab_04/lab_04.csv")
here::here("~/Code/data_journalism_interactive_textbook/04_labs/lab_04")
md_race <- read_csv(here("lab_04.csv"))
#KEY
library(here)
here::here("~/Code/data_journalism_interactive_textbook/04_labs/lab_04")
md_race <- read_csv(here("lab_04.csv"))
here::here("~/Code/data_journalism_interactive_textbook/04_labs/lab_04")
md_race <- read_csv(here("lab_04.csv"))
getwd()
md_race <- read_csv(here("~/Code/data_journalism_interactive_textbook/04_labs/lab_04/lab_04.csv"))
md_race <- read_csv(here::here("~/Code/data_journalism_interactive_textbook/04_labs/lab_04/lab_04.csv"))
here::here()
here::here("~/Code/data_journalism_interactive_textbook/04_labs/lab_04")
md_race <- read_csv(here("lab_04.csv"))
here::here("/Code/data_journalism_interactive_textbook/04_labs/lab_04")
md_race <- read_csv(here::here("/Code/data_journalism_interactive_textbook/04_labs/lab_04/lab_04.csv"))
md_race <- read_csv(here("lab_04.csv"))
md_race <- read_csv(here::here("/Code/data_journalism_interactive_textbook/04_labs/lab_04/lab_04.csv"))
md_race <- read_csv(here::here("/Users/robwells/Code/data_journalism_class/04_labs/lab_04/lab_04.csv"))
md_race <- read_csv(here::here("/Code/data_journalism_class/04_labs/lab_04/lab_04.csv"))
md_race <- read_csv(here::here("../Code/data_journalism_class/04_labs/lab_04/lab_04.csv"))
md_race <- read.csv(here::here("../Code/data_journalism_class/04_labs/lab_04/lab_04.csv"))
md_race <- read.csv(here::here("/Code/data_journalism_class/04_labs/lab_04/lab_04.csv"))
getwd()
setwd("~/Code/data_journalism_class/04_labs/lab_04")
here::here("/Code/data_journalism_class/04_labs/lab_04")
md_race <- read_csv(here("lab_04.csv"))
here::here("/Code/data_journalism_class/04_labs/lab_04")
getwd()
md_race <- read_csv(here("lab_04.csv"))
knitr::opts_chunk$set(echo = TRUE)
here::here("/Code/data_journalism_class/04_labs/lab_04")
knitr:
root.dir: "../Code/data_journalism_class/04_labs/lab_04"
knitr::opts_chunk$set(echo = TRUE)
here::here("/Code/data_journalism_class/04_labs/lab_04")
md_race <- read_csv(here("lab_04.csv"))
knitr::opts_chunk$set(echo = TRUE)
here::here("/Code/data_journalism_class/04_labs/lab_04")
md_race <- read.csv(here::here("/Code/data_journalism_class/04_labs/lab_04/lab_04.csv"))
md_race <- read_csv(here::here("/Code/data_journalism_class/04_labs/lab_04/lab_04.csv"))
md_race <- read_csv(here("lab_04.csv"))
md_race <- read_csv(here::here("~/Code/data_journalism_class/04_labs/lab_04/lab_04.csv"))
# Write code to load the Maryland race by city, place for 2010 - 2020 and call it md_race.
# The data is called lab_04.csv, and is in the same folder as lab_04.qmd (this data notebook)
#KEY
library(here)
here::here("/Code/data_journalism_interactive_textbook/04_labs/lab_04")
md_race <- read_csv(here::here("~/Code/data_journalism_class/04_labs/lab_04/lab_04.csv"))
# Turn off scientific notation
options(scipen=999)
# Load the tidyverse here
# Load janitor here
#KEY
library(tidyverse)
library(janitor)
# Write your code in this codeblock.
#KEY
top5_hispanic_pct <- md_race %>%
select(place, x2020_total, x2020_hispanic) %>%
mutate(pct_hispanic = (x2020_hispanic/x2020_total)) %>%
slice_max(pct_hispanic, n =5)
# Write your code in this codeblock.
#KEY
top5_hispanic_pct <- md_race %>%
select(place, x2020_total, x2020_hispanic) %>%
mutate(pct_hispanic = (x2020_hispanic/x2020_total)) %>%
slice_max(pct_hispanic, n =5)
top5_hispanic_pct
#write your code here
#KEY
pct_black <- md_race %>%
select(place, x2020_black, x2020_total, x2010_black, x2010_total) %>%
filter(x2010_total > 20000) %>%
mutate(pct_black_2020 = (x2020_black/x2020_total)) %>%
mutate(pct_black_2010 = (x2010_black/x2010_total)) %>%
slice_max(pct_black_2020, n = 10)
pct_black
#write your code here
#KEY
pct_black <- md_race %>%
select(place, x2020_black, x2020_total, x2010_black, x2010_total) %>%
filter(x2010_total > 20000) %>%
mutate(pct_black_2020 = (x2020_black/x2020_total)) %>%
mutate(pct_black_2010 = (x2010_black/x2010_total)) %>%
select(place, pct_black_2020, pct_black_2010, x2020_black, x2020_total, x2010_black, x2010_total) %>%
slice_max(pct_black_2020, n = 10)
pct_black
# KEY
hisp_growth <- md_race %>%
select(place, x2020_hispanic, x2020_total, x2010_hispanic, x2010_total) %>%
filter(x2020_total > 10000) %>%
mutate(hispanic_growth = ((x2020_hispanic-x2010_hispanic)/x2010_hispanic)*100) %>%
mutate(total_growth = ((x2020_total-x2010_total)/x2010_total)*100) %>%
slice_max(hispanic_growth, n = 15)
hisp_growth
# KEY
hisp_growth <- md_race %>%
select(place, x2020_hispanic, x2020_total, x2010_hispanic, x2010_total) %>%
filter(x2020_total > 10000) %>%
mutate(hispanic_growth = ((x2020_hispanic-x2010_hispanic)/x2010_hispanic)*100) %>%
mutate(total_growth = ((x2020_total-x2010_total)/x2010_total)*100) %>%
select(place,hispanic_growth, total_growth, x2020_hispanic, x2020_total, x2010_hispanic, x2010_total) %>%
slice_max(hispanic_growth, n = 15)
hisp_growth
setwd("~/GitHub/Code/Cassie_Peo_jour472/lab_05/pre_lab_05")
library(tidyverse)
baltcity_income <- read_csv("assets/data/baltcity_income_clean.csv") %>%
as.data.frame()
#baltcity_income <- read_csv("assets/data/baltcity_income_clean.csv") %>%
#as.data.frame()
#working on this with your laptop, uncomment and use this code below
baltcity_income<- read_csv("baltcity_income_clean.csv") %>%
as.data.frame()
View(baltcity_income)
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
head()
View(baltcity_income)
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
head()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = (x2020-x2010)/x2010) %>%
head()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2)) %>%
head()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2)) %>%
arrange(desc(Diff_Pct_2020)) %>%
head()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2)) %>%
arrange(desc(Diff_Pct_2020)) %>%
head()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2)) %>%
arrange(Diff_Pct_2020) %>%
head()
#ppp_applications_md_small <- read_csv("assets/data/ppp_applications_md.csv") %>%
#  select(name, amount, city, servicing_lender_state)
#write_csv(ppp_applications_md_small,"assets/data/ppp_applications_md_small.csv")
maryland_ppp <- read_csv("assets/data/ppp_applications_md_small.csv")
#ppp_applications_md_small <- read_csv("assets/data/ppp_applications_md.csv") %>%
#  select(name, amount, city, servicing_lender_state)
#write_csv(ppp_applications_md_small,"assets/data/ppp_applications_md_small.csv")
#maryland_ppp <- read_csv("assets/data/ppp_applications_md_small.csv")
#working on this with your laptop, uncomment and use this code below
maryland_ppp <- read.csv("ppp_applications_md.csv")
#ppp_applications_md_small <- read_csv("assets/data/ppp_applications_md.csv") %>%
#  select(name, amount, city, servicing_lender_state)
#write_csv(ppp_applications_md_small,"assets/data/ppp_applications_md_small.csv")
#maryland_ppp <- read_csv("assets/data/ppp_applications_md_small.csv")
#working on this with your laptop, uncomment and use this code below
maryland_ppp <- read.csv("ppp_applications_md.csv")
View(maryland_ppp)
#uncomment below to see the entire dataframe
View(maryland_ppp)
maryland_ppp %>%
mutate(
upper_city = str_to_upper(city)
) %>%
select(city, upper_city, name, amount) %>%
head()
View(maryland_ppp)
maryland_with_in_out <- maryland_ppp %>%
mutate(
in_out = case_when(
servicing_lender_state == 'NA' ~ "NA",
servicing_lender_state == 'MD' ~ "IN",
servicing_lender_state != 'MD' ~ "OUT"
)
maryland_with_in_out %>%
select(name, amount, servicing_lender_state, in_out) %>%
head()
View(maryland_with_in_out)
maryland_with_in_out <- maryland_ppp %>%
mutate(
in_out = case_when(
servicing_lender_state == 'NA' ~ "NA",
servicing_lender_state == 'MD' ~ "IN",
servicing_lender_state != 'MD' ~ "OUT"
)
maryland_with_in_out %>%
select(name, amount, servicing_lender_state, in_out) %>%
head()
maryland_with_in_out <- maryland_ppp %>%
mutate(
in_out = if_else(
servicing_lender_state == 'MD', "IN", "OUT"
)
maryland_with_in_out %>%
select(name, amount, servicing_lender_state, in_out) %>%
head()
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
View(city_md_income)
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
city__md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =((median_inc_2020-median_inc_2010)/median_inc_2010)*100)
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =((median_inc_2020-median_inc_2010)/median_inc_2010)*100)
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =((median_inc_2020-median_inc_2010)/median_inc_2010)*100)
View(baltcity_income)
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =((median_inc_2020-median_inc_2010)/median_inc_2010)*100,2)
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =(round(median_inc_2020-median_inc_2010)/median_inc_2010)*100,2)
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010)*100,2)
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =((median_inc_2020-median_inc_2010)/median_inc_2010)*100)
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =((median_inc_2020-median_inc_2010)/median_inc_2010)*100)
View(city_md_income)
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =((median_inc_2020-median_inc_2010)/median_inc_2010)*100)
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =((median_inc_2020-median_inc_2010)/median_inc_2010)*100)
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =((median_inc_2020-median_inc_2010)/median_inc_2010)*100)
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010)*100,2)
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2))
View(city_md_income)
city_md_income <- city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2))
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
city_md_income <- city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2))
View(city_md_income)
city_md_income <- city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2))
write.csv(city_md_income,"city_md_income2.csv")
View(city_md_income)
city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2))
head()
city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2))
slice_max(pct_change, n = 1)
city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2)) %>%
slice_max(pct_change, n = 1)
city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2)) %>%
slice_max(difference, n = 1)
# Shaft CDP had the highest percent change with 399.88%.
city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2)) %>%
slice_max(difference, n = 1)
slice_max(pct_change, n = 1)
city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2)) %>%
slice_max(difference, n = 1)
city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2)) %>%
slice_max(pct_change, n = 1)
# Beaver Creek CDP had the highest absolute change with a difference of 118,292. Shaft CDP had the highest percent change with 399.88%.
top25_pct_change <- city_md_income %>%
select(pct_change) %>%
slice_max(pct_change, n = 25)
View(top25_pct_change)
top25_pct_change <- city_md_income %>%
select(place, pct_change) %>%
slice_max(pct_change, n = 25)
View(top25_pct_change)
top25_pct_change <- city_md_income %>%
slice_max(pct_change, n = 25)
View(top25_pct_change)
top25__lowest_pct_change <- city_md_income %>%
slice_min(pct_change, n = 25)
View(top25__lowest_pct_change)
top25_lowest_pct_change <- city_md_income %>%
slice_min(pct_change, n = 25)
View(top25_lowest_pct_change)
View(city_md_income)
summary(city_md_income$median_inc_2020)
mutate(
category = case_when(
median_inc_2020 > "63327" ~ "above",
median_inc_2020 <= "63327" ~ "below",
)
summary(city_md_income$median_inc_2020)
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 > "63327" ~ "above",
median_inc_2020 <= "63327" ~ "below",
)
lowest %>%
select(place, category)
View(lowest)
summary(city_md_income$median_inc_2020)
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 >= "63327" ~ "above",
median_inc_2020 <= "63327" ~ "below",
)
lowest %>%
select(place, category)
View(lowest)
summary(city_md_income$median_inc_2020)
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 >= "63327" ~ "above",
median_inc_2020 <= "63327" ~ "below",
)
lowest %>%
select(place, median_inc_2020, category)
View(lowest)
glimpse(city_md_income)
summary(city_md_income$median_inc_2020)
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 > "63327" ~ "above",
median_inc_2020 < "63327" ~ "below",
)
lowest %>%
select(place, median_inc_2020, category)
summary(city_md_income$median_inc_2020)
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 > 63327 ~ "above",
median_inc_2020 < 63327 ~ "below",
)
lowest %>%
select(place, median_inc_2020, category)
summary(city_md_income$median_inc_2020)
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 > 63327 ~ "above",
median_inc_2020 < 63327 ~ "below",
)
lowest %>%
select(place, median_inc_2020, category)
city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2)) %>%
slice_max(difference, n = 1)
city_md_income %>%
mutate(difference =(median_inc_2020-median_inc_2010)) %>%
mutate(pct_change =round((median_inc_2020-median_inc_2010)/median_inc_2010*100,2)) %>%
slice_max(pct_change, n = 1)
# Beaver Creek CDP had the highest absolute change with a difference of 118,292. Shaft CDP had the highest percent change with 399.88%.
top25_pct_change <- city_md_income %>%
slice_max(pct_change, n = 25)
top25_lowest_pct_change <- city_md_income %>%
slice_min(pct_change, n = 25)
summary(city_md_income$median_inc_2020)
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 > 63327 ~ "above",
median_inc_2020 < 63327 ~ "below",
)
lowest %>%
select(place, median_inc_2020, category)
median(city_md_income$pct_change)
city_md_income$pct_change
median(city_md_income$pct_change, na.rm=TRUE)
city_md_income %>%
slice_max(pct_change, n = 10)
ten_lowest <- city_md_income %>%
slice_min(pct_change, n = 10)
View(ten_lowest)
ten_highest <- city_md_income %>%
slice_max(pct_change, n = 10)
View(ten_highest)
ten_highest <- city_md_income %>%
slice_max(pct_change, n = 10)
summary(city_md_income$median_inc_2020)
lowest <- city_md_income %>%
mutate(
category = case_when(
median_inc_2020 > 63327 ~ "above",
median_inc_2020 < 63327 ~ "below",
)
lowest %>%
select(place, median_inc_2020, category)
